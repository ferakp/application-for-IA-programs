<template>
  <!--Requirements-->
  <require from="./combobox-tag.css"></require>

  <!--Content-->
  <div class="combobox__container d-flex" ref="comboboxUpperContainer">
    <text-field
      ref="comboboxTextField"
      class="combobox__text-field"
      placeholder.to-view="placeholder"
      label.to-view="label"
      show-clear-button.to-view="showClearButton"
      first-letter-upper-case.to-view="firstLetterUpperCase"
      allow-only-numbers.to-view="allowOnlyNumbers"
      disable.to-view="disable"
      error-message.to-view="errorMessage"
      required.to-view="required"
      value.two-way="value"
      hide-suffix-container.to-view="hideSuffixContainer"
      for.to-view="for"
      input-click-callback.to-view="_inputElementClicked"
      input-enter-callback.to-view="_inputElementEnterPressed"
    >
      <div class="combobox__prefix-container" slot="prefix-container" show.bind="selections.length > 0 ? true : false">
        <div repeat.for="tag of selections" class="combobox__tag">
          <p class="combobox_tag-label">${tag}</p>
          <a
            class="combobox_tag-close-icon-link"
            click.trigger="_deleteTag($index)"
            ><i class="fas fa-times combobox__tag-close-icon"></i
          ></a>
        </div>
      </div>
      <div
        class="combobox__suffix-container"
        slot="suffix-container"
        ref="comboboxSuffixContainer"
      >
        <a
          class="combobox__suffix-container-link combobox__transparent-bg-color d-flex align-items-center m-2 text-decoration-none"
          click.trigger="dropDownListIconClicked()"
          ><i
            class="combobox__drop-down-icon-list fas fa-angle-down combobox__transparent-bg-color text-decoration-none combobox__pointer-cursor"
          ></i
        ></a>
      </div>
      <div
        class="combobox__drop-down-list-container"
        slot="drop-down-list-container"
        ref="dropDownListContainer"
      >
        <div
          ref="dropDownList"
          class="combobox__drop-down-list flex-column"
          show.bind="dropDownListOpened"
        >
          <div
            class="combobox__drop-down-list-item d-flex align-items-center"
            repeat.for="item of _comboboxItems"
            click.trigger="itemSelected(item)"
          >
            <p class="combobox__drop-down-list-item-content">${item}</p>
          </div>
        </div>
      </div>
    </text-field>
  </div>
</template>
